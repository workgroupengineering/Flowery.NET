<ResourceDictionary xmlns="https://github.com/avaloniaui"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="clr-namespace:Flowery.Controls;assembly=Flowery.NET">

    <Design.PreviewWith>
        <Border Padding="20" Background="{DynamicResource DaisyBase300Brush}" Width="600">
            <StackPanel Spacing="20">
                <!-- Basic navbar with title only -->
                <controls:DaisyNavbar>
                    <controls:DaisyNavbar.NavbarStart>
                        <controls:DaisyButton Variant="Ghost" FontSize="20" FontWeight="Bold" Content="Flowery"/>
                    </controls:DaisyNavbar.NavbarStart>
                </controls:DaisyNavbar>

                <!-- Navbar with start, center, and end -->
                <controls:DaisyNavbar>
                    <controls:DaisyNavbar.NavbarStart>
                        <controls:DaisyButton Variant="Ghost" FontSize="20" FontWeight="Bold" Content="Flowery"/>
                    </controls:DaisyNavbar.NavbarStart>
                    <controls:DaisyNavbar.NavbarCenter>
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <controls:DaisyButton Variant="Ghost" Content="Home"/>
                            <controls:DaisyButton Variant="Ghost" Content="About"/>
                        </StackPanel>
                    </controls:DaisyNavbar.NavbarCenter>
                    <controls:DaisyNavbar.NavbarEnd>
                        <controls:DaisyButton Variant="Primary" Content="Get Started"/>
                    </controls:DaisyNavbar.NavbarEnd>
                </controls:DaisyNavbar>

                <!-- Simple fallback with Content only -->
                <controls:DaisyNavbar>
                    <StackPanel Orientation="Horizontal" Spacing="10">
                        <TextBlock Text="Simple Navbar" FontWeight="Bold" FontSize="18" VerticalAlignment="Center"/>
                        <controls:DaisyButton Variant="Ghost" Content="Link 1"/>
                        <controls:DaisyButton Variant="Ghost" Content="Link 2"/>
                    </StackPanel>
                </controls:DaisyNavbar>
            </StackPanel>
        </Border>
    </Design.PreviewWith>

    <ControlTheme x:Key="{x:Type controls:DaisyNavbar}" TargetType="controls:DaisyNavbar">
        <Setter Property="Background" Value="{DynamicResource DaisyBase100Brush}" />
        <Setter Property="Foreground" Value="{DynamicResource DaisyBaseContentBrush}" />
        <Setter Property="MinHeight" Value="64" />
        <Setter Property="Padding" Value="16,8" />
        <Setter Property="CornerRadius" Value="8" />
        <Setter Property="HasShadow" Value="True" />
        <Setter Property="IsFullWidth" Value="False" />
        <Setter Property="Effect">
            <Setter.Value>
                <DropShadowEffect BlurRadius="5" Color="Black" Opacity="0.1" OffsetX="0" OffsetY="2" />
            </Setter.Value>
        </Setter>

        <Setter Property="Template">
            <ControlTemplate>
                <Border x:Name="PART_RootBorder"
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        CornerRadius="{TemplateBinding CornerRadius}"
                        Padding="{TemplateBinding Padding}">
                    <Panel>
                        <!-- Three-section layout (Start, Center, End) -->
                        <Grid x:Name="PART_SectionLayout" ColumnDefinitions="*, Auto, *">
                            <!-- navbar-start: fills 50% width, content aligns to start -->
                            <ContentPresenter x:Name="PART_NavbarStart"
                                              Grid.Column="0"
                                              Content="{TemplateBinding NavbarStart}"
                                              HorizontalAlignment="Left"
                                              VerticalAlignment="Center" />

                            <!-- navbar-center: auto-sized, centered -->
                            <ContentPresenter x:Name="PART_NavbarCenter"
                                              Grid.Column="1"
                                              Content="{TemplateBinding NavbarCenter}"
                                              HorizontalAlignment="Center"
                                              VerticalAlignment="Center" />

                            <!-- navbar-end: fills 50% width, content aligns to end -->
                            <ContentPresenter x:Name="PART_NavbarEnd"
                                              Grid.Column="2"
                                              Content="{TemplateBinding NavbarEnd}"
                                              HorizontalAlignment="Right"
                                              VerticalAlignment="Center" />
                        </Grid>

                        <!-- Fallback: Simple Content (when Start/Center/End are not used) -->
                        <ContentPresenter x:Name="PART_Content"
                                          Content="{TemplateBinding Content}"
                                          ContentTemplate="{TemplateBinding ContentTemplate}"
                                          VerticalAlignment="Center"
                                          IsVisible="False" />
                    </Panel>
                </Border>
            </ControlTemplate>
        </Setter>

        <!-- Show section layout when any section content is set -->
        <Style Selector="^[HasSectionContent=True] /template/ Grid#PART_SectionLayout">
            <Setter Property="IsVisible" Value="True" />
        </Style>
        <Style Selector="^[HasSectionContent=True] /template/ ContentPresenter#PART_Content">
            <Setter Property="IsVisible" Value="False" />
        </Style>
        <!-- Show Content fallback when no section content is set -->
        <Style Selector="^[HasSectionContent=False] /template/ Grid#PART_SectionLayout">
            <Setter Property="IsVisible" Value="False" />
        </Style>
        <Style Selector="^[HasSectionContent=False] /template/ ContentPresenter#PART_Content">
            <Setter Property="IsVisible" Value="True" />
        </Style>

        <!-- Full width mode: no rounded corners -->
        <Style Selector="^[IsFullWidth=True]">
            <Setter Property="CornerRadius" Value="0" />
        </Style>

        <!-- No shadow mode -->
        <Style Selector="^[HasShadow=False]">
            <Setter Property="Effect" Value="{x:Null}" />
        </Style>

    </ControlTheme>
</ResourceDictionary>
