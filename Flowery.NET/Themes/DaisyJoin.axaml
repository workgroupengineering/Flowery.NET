<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:controls="clr-namespace:Flowery.Controls;assembly=Flowery.NET">

    <Design.PreviewWith>
        <Border Padding="20">
             <controls:DaisyJoin>
                 <Button Content="Join" />
                 <Button Content="Item" />
                 <Button Content="Here" />
             </controls:DaisyJoin>
        </Border>
    </Design.PreviewWith>

    <!-- Styles for DaisyJoin -->
    <!-- We target controls that have CornerRadius property commonly used in Joins (Button, TextBox, Border, ComboBox) -->

    <Style Selector="controls|DaisyJoin > :is(Button)">
        <Setter Property="CornerRadius" Value="0" />
        <Setter Property="Margin" Value="-1,0,0,0" />
    </Style>
    <!-- FluentTheme Button template applies hover border on ContentPresenter#PART_ContentPresenter; keep joined dividers stable -->
    <Style Selector="controls|DaisyJoin > :is(Button):pointerover /template/ ContentPresenter#PART_ContentPresenter">
        <Setter Property="BorderBrush" Value="{Binding BorderBrush, RelativeSource={RelativeSource TemplatedParent}}" />
    </Style>
    <Style Selector="controls|DaisyJoin > :is(TextBox)">
        <Setter Property="CornerRadius" Value="0" />
        <Setter Property="Margin" Value="-1,0,0,0" />
    </Style>
    <Style Selector="controls|DaisyJoin > :is(ComboBox)">
        <Setter Property="CornerRadius" Value="0" />
        <Setter Property="Margin" Value="-1,0,0,0" />
    </Style>
    <Style Selector="controls|DaisyJoin > :is(Border)">
        <Setter Property="CornerRadius" Value="0" />
        <Setter Property="Margin" Value="-1,0,0,0" />
    </Style>
    <Style Selector="controls|DaisyJoin > controls|DaisyThemeRadio[Mode=Button]">
        <Setter Property="CornerRadius" Value="0" />
        <Setter Property="Margin" Value="-1,0,0,0" />
    </Style>

    <!-- ToggleButton also needs checked/indeterminate hover selectors to beat Fluent specificity -->
    <Style Selector="controls|DaisyJoin > :is(ToggleButton):pointerover /template/ ContentPresenter#PART_ContentPresenter">
        <Setter Property="BorderBrush" Value="{Binding BorderBrush, RelativeSource={RelativeSource TemplatedParent}}" />
    </Style>
    <Style Selector="controls|DaisyJoin > :is(ToggleButton):checked:pointerover /template/ ContentPresenter#PART_ContentPresenter">
        <Setter Property="BorderBrush" Value="{Binding BorderBrush, RelativeSource={RelativeSource TemplatedParent}}" />
    </Style>
    <Style Selector="controls|DaisyJoin > :is(ToggleButton):indeterminate:pointerover /template/ ContentPresenter#PART_ContentPresenter">
        <Setter Property="BorderBrush" Value="{Binding BorderBrush, RelativeSource={RelativeSource TemplatedParent}}" />
    </Style>

    <!-- First Child (Horizontal) -->
    <Style Selector="controls|DaisyJoin > :is(Button):nth-child(1)"> <Setter Property="CornerRadius" Value="8,0,0,8" /> <Setter Property="Margin" Value="0" /> </Style>
    <Style Selector="controls|DaisyJoin > :is(TextBox):nth-child(1)"> <Setter Property="CornerRadius" Value="8,0,0,8" /> <Setter Property="Margin" Value="0" /> </Style>
    <Style Selector="controls|DaisyJoin > :is(ComboBox):nth-child(1)"> <Setter Property="CornerRadius" Value="8,0,0,8" /> <Setter Property="Margin" Value="0" /> </Style>
    <Style Selector="controls|DaisyJoin > :is(Border):nth-child(1)"> <Setter Property="CornerRadius" Value="8,0,0,8" /> <Setter Property="Margin" Value="0" /> </Style>
    <Style Selector="controls|DaisyJoin > controls|DaisyThemeRadio[Mode=Button]:nth-child(1)"> <Setter Property="CornerRadius" Value="8,0,0,8" /> <Setter Property="Margin" Value="0" /> </Style>

    <!-- Last Child (Horizontal) -->
    <Style Selector="controls|DaisyJoin > :is(Button):nth-last-child(1)"> <Setter Property="CornerRadius" Value="0,8,8,0" /> </Style>
    <Style Selector="controls|DaisyJoin > :is(TextBox):nth-last-child(1)"> <Setter Property="CornerRadius" Value="0,8,8,0" /> </Style>
    <Style Selector="controls|DaisyJoin > :is(ComboBox):nth-last-child(1)"> <Setter Property="CornerRadius" Value="0,8,8,0" /> </Style>
    <Style Selector="controls|DaisyJoin > :is(Border):nth-last-child(1)"> <Setter Property="CornerRadius" Value="0,8,8,0" /> </Style>
    <Style Selector="controls|DaisyJoin > controls|DaisyThemeRadio[Mode=Button]:nth-last-child(1)"> <Setter Property="CornerRadius" Value="0,8,8,0" /> </Style>

    <!-- Vertical Support -->
    <!-- Reset margin for vertical -->
    <Style Selector="controls|DaisyJoin[Orientation=Vertical] > :is(Button)"> <Setter Property="Margin" Value="0,-1,0,0" /> </Style>
    <Style Selector="controls|DaisyJoin[Orientation=Vertical] > :is(TextBox)"> <Setter Property="Margin" Value="0,-1,0,0" /> </Style>
    <Style Selector="controls|DaisyJoin[Orientation=Vertical] > :is(ComboBox)"> <Setter Property="Margin" Value="0,-1,0,0" /> </Style>
    <Style Selector="controls|DaisyJoin[Orientation=Vertical] > :is(Border)"> <Setter Property="Margin" Value="0,-1,0,0" /> </Style>
    <Style Selector="controls|DaisyJoin[Orientation=Vertical] > controls|DaisyThemeRadio[Mode=Button]"> <Setter Property="Margin" Value="0,-1,0,0" /> </Style>

    <!-- First Child (Vertical) -->
    <Style Selector="controls|DaisyJoin[Orientation=Vertical] > :is(Button):nth-child(1)"> <Setter Property="CornerRadius" Value="8,8,0,0" /> <Setter Property="Margin" Value="0" /> </Style>
    <Style Selector="controls|DaisyJoin[Orientation=Vertical] > :is(TextBox):nth-child(1)"> <Setter Property="CornerRadius" Value="8,8,0,0" /> <Setter Property="Margin" Value="0" /> </Style>
    <Style Selector="controls|DaisyJoin[Orientation=Vertical] > :is(ComboBox):nth-child(1)"> <Setter Property="CornerRadius" Value="8,8,0,0" /> <Setter Property="Margin" Value="0" /> </Style>
    <Style Selector="controls|DaisyJoin[Orientation=Vertical] > :is(Border):nth-child(1)"> <Setter Property="CornerRadius" Value="8,8,0,0" /> <Setter Property="Margin" Value="0" /> </Style>
    <Style Selector="controls|DaisyJoin[Orientation=Vertical] > controls|DaisyThemeRadio[Mode=Button]:nth-child(1)"> <Setter Property="CornerRadius" Value="8,8,0,0" /> <Setter Property="Margin" Value="0" /> </Style>

    <!-- Last Child (Vertical) -->
    <Style Selector="controls|DaisyJoin[Orientation=Vertical] > :is(Button):nth-last-child(1)"> <Setter Property="CornerRadius" Value="0,0,8,8" /> </Style>
    <Style Selector="controls|DaisyJoin[Orientation=Vertical] > :is(TextBox):nth-last-child(1)"> <Setter Property="CornerRadius" Value="0,0,8,8" /> </Style>
    <Style Selector="controls|DaisyJoin[Orientation=Vertical] > :is(ComboBox):nth-last-child(1)"> <Setter Property="CornerRadius" Value="0,0,8,8" /> </Style>
    <Style Selector="controls|DaisyJoin[Orientation=Vertical] > :is(Border):nth-last-child(1)"> <Setter Property="CornerRadius" Value="0,0,8,8" /> </Style>
    <Style Selector="controls|DaisyJoin[Orientation=Vertical] > controls|DaisyThemeRadio[Mode=Button]:nth-last-child(1)"> <Setter Property="CornerRadius" Value="0,0,8,8" /> </Style>

</Styles>
